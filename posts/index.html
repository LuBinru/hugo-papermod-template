<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | LBR的编程记事簿</title><meta name=keywords content><meta name=description content="Posts - LBR的编程记事簿"><meta name=author content="Theme PaperMod"><link rel=canonical href=https://LuBinru.github.io/hugo-papermod-template/posts/><link crossorigin=anonymous href=/hugo-papermod-template/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><link rel=icon href=https://LuBinru.github.io/hugo-papermod-template/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://LuBinru.github.io/hugo-papermod-template/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://LuBinru.github.io/hugo-papermod-template/favicon-32x32.png><link rel=apple-touch-icon href=https://LuBinru.github.io/hugo-papermod-template/apple-touch-icon.png><link rel=mask-icon href=https://LuBinru.github.io/hugo-papermod-template/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://LuBinru.github.io/hugo-papermod-template/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta property="og:type" content="website"><meta property="og:url" content="https://LuBinru.github.io/hugo-papermod-template/posts/"><meta property="og:image" content="https://LuBinru.github.io/hugo-papermod-template/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://LuBinru.github.io/hugo-papermod-template/papermod-cover.png"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://LuBinru.github.io/hugo-papermod-template/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://LuBinru.github.io/hugo-papermod-template accesskey=h title="LBR的编程记事簿 (Alt + H)">LBR的编程记事簿</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://LuBinru.github.io/hugo-papermod-template/archives title=Archive><span>Archive</span></a></li><li><a href=https://LuBinru.github.io/hugo-papermod-template/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://LuBinru.github.io/hugo-papermod-template/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://LuBinru.github.io/hugo-papermod-template/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://LuBinru.github.io/hugo-papermod-template>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>MyBatisPlus分页不生效后的探索</h2></header><div class=entry-content><p>MyBatisPlus分页不生效后的探索 今天我在使用MyBatisPlus的IPage接口进行分页查询时，遇到了一个问题：分页并没有生效，结果直接返回了整个数据集。我查阅了官方文档，但没有找到我这几行代码的问题所在。于是我开始搜索关于"MyBatisPlus分页不生效"的原因和解决办法，但大多数结果都在讨论"未配置分页拦截器"这个问题。
经过测试，我发现分页拦截器根本没有启动。
在浏览了几页的搜索结果后，我没有找到解决方案。
实际上，问题出在META-INF目录的位置上。META-INF目录需要放置在resources根目录下，否则无法被正确扫描到。META-INF没有被扫描，在这之前没碰到过的一个小问题。
META-INF目录用于存放元数据信息，例如包和扩展的配置数据。
与分页拦截器是否启动直接相关的是spring.factories文件。
spring.factories的作用是自动加载Spring扩展的实现类。它需要以properties格式（键值对）进行配置。这个机制提供了一种将外部包中的类注入到Spring容器中的方式。换句话说，如果Spring要加载根目录以外的Bean，例如Maven依赖中的Bean，就需要使用spring.factories。
这是一种解耦的扩展机制。
基本原理是在spring-core包中的SpringFactoriesLoader类中，它实现了对META-INF/spring.factories文件的检索，并根据配置信息实例化这些功能类，最后将它们注册到Spring容器中。
相关代码如下：
public final class SpringFactoriesLoader { //文件路径 public static final String FACTORIES_RESOURCE_LOCATION = "META-INF/spring.factories"; ... /** * 根据给定的类型返回一个包含这些实现类对象的列表 */ public static &lt;T> List&lt;T> loadFactories(Class&lt;T> factoryType, @Nullable ClassLoader classLoader) { Assert.notNull(factoryType, "'factoryType' must not be null"); ClassLoader classLoaderToUse = classLoader; if (classLoader == null) { classLoaderToUse = SpringFactoriesLoader.class.getClassLoader(); } List&lt;String> factoryImplementationNames = loadFactoryNames(factoryType, classLoaderToUse); if (logger.isTraceEnabled()) { logger.trace("Loaded [" + factoryType....</p></div><footer class=entry-footer><span title="2023-07-28 00:00:00 +0000 UTC">July 28, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;BeiYu</footer><a class=entry-link aria-label="post link to MyBatisPlus分页不生效后的探索" href=https://LuBinru.github.io/hugo-papermod-template/posts/mybatisplus%E5%88%86%E9%A1%B5%E4%B8%8D%E7%94%9F%E6%95%88%E5%90%8E%E7%9A%84%E6%8E%A2%E7%B4%A2/></a></article><article class=post-entry><header class=entry-header><h2>Hello World</h2></header><div class=entry-content><p>Markdown 标题 共有6级标题
H1 H2 H3 H4 H5 H6 段落 这是第一段，bulabulabula
这是第二段，bulabulabula
引用 这是行内引用inline
这是一个段引用和脚标的栗子
— 出处1
表格 Name Age Bob 27 Alice 23 代码块 import os print("hello world") 列表 有序列表 First item Second item Third item 无序列表 List item Another item And another item KaTeX Inline math: \(\varphi = \dfrac{1+\sqrt5}{2}= 1....</p></div><footer class=entry-footer><span title="2022-01-16 00:00:00 +0000 UTC">January 16, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;BeiYu</footer><a class=entry-link aria-label="post link to Hello World" href=https://LuBinru.github.io/hugo-papermod-template/posts/hello-world/></a></article></main><footer class=footer><span>&copy; 2023 <a href=https://LuBinru.github.io/hugo-papermod-template>LBR的编程记事簿</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>